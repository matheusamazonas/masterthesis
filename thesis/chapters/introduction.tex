\section{Introduction}
The \ac{iot} consists of a network of ``things'' (devices, computers, people, systems, etc.) that interact with each other via the Internet. These components can exchange data, monitor and manage each other. \ac{iot} is a global, growing phenomenon. According to Gartner, there were 3.96 billion connected ``things'' in 2016 and by 2020, 12.863 billion devices are expected to be connected to the Internet~\cite{iot_numbers}. \ac{iot} has been used in a myriad of applications including home automation, fitness tracking, health care, warehouse monitoring, agriculture and industry manufacturing. \ac{iot} devices can be dedicated servers, personal computers, tablets, smartphones, smartwatches or compact devices operated by \glspl{mcu}. \Glspl{mcu} are small, cheap computers with limited resources and low power consumption commonly used to interface with the real world. They often gather data from sensors (movement, light, temperature, etc.), act on actuators (motors, \acsp{led}, switches, etc.) and communicate with other devices.

\ac{top} is a new programming paradigm used to develop online, collaborative applications. Its central concept, a \textit{task}, can be used to model different types of work performed both by users and systems. \ac{top} provides a high level of abstraction, liberating the programmer from the burden of technical details, such as user interfaces. The iTasks~\cite{top} system implements \ac{top} in the functional programming language Clean~\cite{clean} as an \ac{edsl}. It automatically generates as many assets as possible, turning it into a great tool for rapid prototyping. Given an iTasks program, the system automatically generates a web application that can be accessed via a web browser. Users can access this application to inspect and work on tasks. The system has been proved useful in many fields, including incident response operations and navy vessels automation~\cite{incidone,navy}.

Although iTasks applications often require user interaction, some tasks could be automated. Examples are tasks that interact with the external world: reading room temperature, blinking an \acs{led}, detecting movement, unlocking a door,  etc. The iTasks environment could benefit from such automation. \Glspl{mcu} pose as great candidates to interface with the external world. They are affordable, energy efficient and are seamlessly combined with sensors and actuators. Unfortunately, --- due to hardware limitations --- \glspl{mcu} are not suitable to run iTasks tasks. To bridge this gap, the \gls{mTask} \ac{dsl} was created to enable the execution of simple tasks on \glspl{mcu}, bringing such devices to the \gls{iTasks} world.


\section{Research Question}
Even though \gls{mTask} was created to allow \gls{iTasks} tasks to run on \acs{iot} devices, it has not been proved capable of running real-life applications yet. The examples built during its development were simple demonstrations and were far from real-life \acs{iot} applications. Given that, I propose the following research question:

\begin{center}
\emph{Is it possible to develop real-life, \acs{iot} applications using \gls{mTask}? If so, how can the development process be improved? If not, what are the challenges to solve to make it possible?}
\end{center}
I plan to tackle the research question by example. Namely, trying to develop a real life \acs{iot} application using \gls{mTask}. The attempt to develop such an application should display \gls{mTask}'s capability to create real life applications while displaying new opportunities to improve the development process.

The application I chose to develop tackles a popular problem in \acrshort{iot}: home automation. This application would be responsible for automating simple home management tasks such as turning the central heating system off when the room is warm, or opening up the curtains at a set time. The proposed application requires several \acrshort{iot} devices equipped with sensors (temperature, light, humidity, etc.) and actuators (\acsp{led}, motors, relays, etc.) spread across rooms. 


\section{Report Structure}

The remainder of this report is structured as follows.  \cref{chap:edsl} quickly introduces \acp{dsl} and presents different strategies to build \acp{edsl}. \cref{chap:top} introduces the concept of \ac{top} and the \gls{iTasks} system. \cref{chap:mtask} presents the \gls{mTask} \ac{edsl}, which was the research focus. \cref{chap:application} describes the real-life application developed during research. \cref{chap:dev} details the development process. \cref{chap:conclusion} concludes presenting insight about the development process, answering the research question and proposing future research. \cref{chap:related} lists related work.

The source code for the real-life application developed during research can be accessed at \url{https://github.com/matheusamazonas/autohouse}.

The source code of the modified version of \gls{mTask} used during research can be accessed at \url{https://gitlab.science.ru.nl/mlubbers/mTask/tree/peripherals}.

The source code of this report can be accessed at \url{https://github.com/matheusamazonas/masterthesis}.

%The source code of the library to interface with the DHT22 temperature and humidity sensor can be accessed at \url{https://github.com/matheusamazonas/DHTino}.

%The source code of the library to interface with the HC-SR04 ultrasonic sensor can be accessed at \url{https://github.com/matheusamazonas/Ultrino}.