A \ac{gpl} is a computer language that was designed to be used to develop software in a wide range of domains. An example is the C++ programming language, which can be used in domains that vary from systems programming to video games and web servers. In contrast, a \ac{dsl} is a computer language that was designed to be used in a particular domain. Game Maker Language, \acs{html}, LaTeX and \acs{vhdl} are examples of \ac{dsl}s. These languages, when compared to \ac{gpl}s, usually offer a higher level of abstraction of their target domain.

A \ac{dsl} can be implemented using two different strategies: standalone and embedded. Each strategy has its advantages and disadvantages. In the former strategy, the language is build from the ground up, which consists of developing either a compiler or an interpreter. This strategy provides the language designer with a lot design freedom, but requires a cumbersome amount of work. In the latter strategy, the proposed \ac{dsl} is embedded in another preexisting language. This strategy frees its designer of the task of building a new compiler, but limits the \ac{dsl} to the features of the language it is embedded in.

The semantics of a \ac{edsl} are given by its views (also called backends). Common views are evaluation, pretty printing, compilation, optimization and verification. There are two main techniques for building an \ac{edsl}: deep and shallow embedding.

\section{Deep Embedding}

Building a deep \ac{edsl} consists of representing language constructs as \acp{adt} in the host language. Views are functions that accept the \ac{adt} as input and return another \ac{adt} that represents its semantics. An example of a simple \ac{dsl} and its views can be seen on Listing \ref{deep1}.

\begin{lstlisting}[caption=A simple DSL and its views,captionpos=b,label=deep1]
:: MyDSL = I Int
    | B Bool
    | Add MyDSL MyDSL
    | Sub MyDSL MyDSL
    | And MyDSL MyDSL
    | Or MyDSL MyDSL
    
prettyPrint :: MyDSL -> [String]
eval :: MyDSL -> Int
\end{lstlisting}

The biggest advantage of deep embedding is that adding a view to the \ac{dsl} is easy: simply create a function that transforms the \ac{adt}. One disadvantage is that extending the \ac{dsl} might require a lot of work, since new code has  to be created in every view. Another disadvantage is its lack of static type safety. As seen on Listing \ref{deep1}, \texttt{MyDSL} allows addition on Booleans and between Booleans and Integers. This could have been avoided by using \acp{gadt} but unfortunately, this abstraction is not available in Clean.

\section{Shallow Embedding}
Building a shallow \ac{edsl} consists of representing the language constructs directly as its semantics. 

\subsection{Classes}

